[gd_scene load_steps=8 format=3 uid="uid://tcprtettsn2c"]

[ext_resource type="PackedScene" uid="uid://bkftmhjclwpvp" path="res://scenes/classesBase/dark_wizard_base.tscn" id="1_nih2d"]
[ext_resource type="Script" path="res://scripts/CharacterMovement.cs" id="2_kkpsn"]
[ext_resource type="Script" path="res://scripts/CharacterSmoothRotation.gd" id="3_nxjiu"]
[ext_resource type="Script" path="res://scripts/CharacterStateMachine.gd" id="4_jcj7d"]
[ext_resource type="Script" path="res://scripts/PlayerInput.gd" id="5_c0u7f"]
[ext_resource type="Script" path="res://scripts/PlayerAttackHandler.gd" id="6_vdra3"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_nsw0f"]

[node name="PlayerBase" type="CharacterBody3D"]

[node name="DarkWizardBase" parent="." instance=ExtResource("1_nih2d")]

[node name="Skeleton3D" parent="DarkWizardBase/DarkWizard" index="0"]
bones/1/position = Vector3(-3.7253e-09, -6.51925e-09, -107.295)
bones/2/position = Vector3(0.731996, -0.172768, 1.05011e-05)
bones/3/position = Vector3(-1.36277e-05, 2.10208e-05, 10.2815)
bones/3/rotation = Quaternion(0.0860289, 0.975291, 0.198355, -0.0454163)
bones/4/position = Vector3(49.4305, -2.97889e-06, -6.31355e-06)
bones/4/rotation = Quaternion(-3.56366e-09, -4.8462e-09, -0.131009, 0.991381)
bones/5/position = Vector3(49.4305, -3.05894e-06, 2.56835e-06)
bones/5/rotation = Quaternion(-0.0119163, -0.0674994, 0.019459, 0.997458)
bones/6/position = Vector3(11.5912, 14.9082, -5.96046e-08)
bones/6/rotation = Quaternion(6.30678e-10, 1.92465e-09, 0.707107, 0.707107)
bones/9/position = Vector3(1.57631e-05, -1.16101e-05, -10.2815)
bones/9/rotation = Quaternion(0.107278, 0.990491, -0.0338517, 0.0792058)
bones/10/position = Vector3(49.4305, 3.34636e-06, 3.02331e-06)
bones/10/rotation = Quaternion(1.39993e-08, -1.84124e-08, -0.290777, 0.956791)
bones/11/position = Vector3(49.4305, -4.00201e-06, -9.28994e-08)
bones/11/rotation = Quaternion(0.0383839, 0.0394409, 0.184876, 0.98122)
bones/12/position = Vector3(11.5912, 14.9082, -9.94653e-07)
bones/12/rotation = Quaternion(-4.70976e-09, 1.95882e-09, 0.707107, 0.707107)
bones/13/position = Vector3(4.16146, -1.24491e-07, -2.93078e-07)
bones/13/rotation = Quaternion(4.55756e-09, 3.57432e-10, -1.52444e-06, 1)
bones/15/position = Vector3(3.58622, -0.0157034, 0.313765)
bones/15/rotation = Quaternion(-0.00191657, -0.0473759, 0.0438091, 0.997914)
bones/16/position = Vector3(19.7953, -0.0197756, 4.13659e-05)
bones/16/rotation = Quaternion(-0.00100637, 0.000123374, -0.150021, 0.988682)
bones/17/position = Vector3(26.0096, -0.0040788, -1.35206e-06)
bones/18/position = Vector3(5.14077, -9.35652e-07, 8.62718e-07)
bones/18/rotation = Quaternion(0.130469, 0.0155975, 0.0903352, 0.987205)
bones/19/position = Vector3(6.88433, -6.88428, -1.87309e-05)
bones/19/rotation = Quaternion(3.17305e-08, -2.69175e-06, 0.92416, -0.382005)
bones/20/position = Vector3(15.4556, -0.0119801, -1.13673e-06)
bones/20/rotation = Quaternion(1.09034e-07, 4.88009e-07, -0.217546, 0.97605)
bones/21/position = Vector3(5.23503e-06, 0.00411721, -6.47736)
bones/22/position = Vector3(13.4002, 2.05472e-06, 2.03844e-05)
bones/22/rotation = Quaternion(0.433834, -0.320347, -0.264044, 0.799654)
bones/23/position = Vector3(37.6304, -1.39113e-05, 8.35365e-06)
bones/23/rotation = Quaternion(5.38379e-09, -6.30377e-09, -0.933807, 0.357777)
bones/24/position = Vector3(27.4736, 1.52341e-05, -1.63156e-06)
bones/24/rotation = Quaternion(0.780276, 0.561111, 0.120285, 0.248707)
bones/25/position = Vector3(10.4239, -1.80958, -0.0311026)
bones/25/rotation = Quaternion(0.000404369, -0.000167498, 0.382683, 0.92388)
bones/26/position = Vector3(3.62427, 8.37436e-06, 1.26213e-05)
bones/26/rotation = Quaternion(2.86263e-08, 1.01669e-08, 0.382683, 0.92388)
bones/27/position = Vector3(3.62425, -9.55549e-06, 2.77162e-06)
bones/27/rotation = Quaternion(-1.41551e-09, -1.67101e-08, 0.382683, 0.92388)
bones/28/position = Vector3(9.02614, 3.66697, 0.261094)
bones/29/rotation = Quaternion(0.614426, 0.19093, 0.745177, 0.175322)
bones/30/position = Vector3(13.4002, 8.97499e-06, 4.32469e-06)
bones/30/rotation = Quaternion(-0.0834341, 0.328712, -0.192883, 0.920752)
bones/31/position = Vector3(37.6304, -1.17591e-06, 2.12812e-06)
bones/31/rotation = Quaternion(-5.2382e-10, -1.42605e-08, -0.632906, 0.774229)
bones/32/position = Vector3(27.4736, 3.52869e-07, -5.04347e-06)
bones/32/rotation = Quaternion(-0.614646, 0.0522655, -0.0478869, 0.785612)
bones/33/position = Vector3(10.4239, -1.8096, 0.0310881)
bones/33/rotation = Quaternion(-0.000404365, 0.000167518, 0.382683, 0.92388)
bones/34/position = Vector3(3.62424, 6.93359e-06, -6.73534e-06)
bones/34/rotation = Quaternion(2.03403e-09, 1.54602e-10, 0.382683, 0.92388)
bones/35/position = Vector3(3.62424, -1.2352e-07, -3.29316e-06)
bones/35/rotation = Quaternion(7.41327e-09, -1.48003e-08, 0.382683, 0.92388)
bones/36/position = Vector3(9.00061, 3.76957, 0.528649)
bones/37/position = Vector3(15.155, 10.5901, 2.36305e-05)
bones/38/position = Vector3(-9.01942e-07, -0.606425, -3.23427)
bones/38/rotation = Quaternion(-0.199882, -2.89802e-10, -5.80553e-09, 0.97982)
bones/39/rotation = Quaternion(0.0146654, -4.16467e-09, 4.01512e-09, 0.999892)
bones/40/position = Vector3(1.80277e-06, -0.606428, -26.4805)
bones/41/position = Vector3(16.3519, -9.42281, -2.22254e-05)
bones/42/position = Vector3(-5.3169e-07, 2.20492e-06, -2.62783)
bones/42/rotation = Quaternion(-0.0083304, -8.3895e-10, -5.21991e-09, 0.999965)
bones/43/position = Vector3(1.55213e-06, 5.45782, -16.9799)
bones/43/rotation = Quaternion(0.0933962, -3.84569e-09, -9.74966e-09, 0.995629)
bones/46/position = Vector3(25.5786, -5.95424, 1.87508)
bones/46/rotation = Quaternion(-0.5, -0.5, -0.5, 0.5)
bones/47/position = Vector3(25.5786, -5.95424, 1.87508)
bones/47/rotation = Quaternion(-0.5, -0.5, -0.5, 0.5)
bones/48/position = Vector3(24.7524, -5.95424, 1.87507)
bones/48/rotation = Quaternion(-0.5, -0.5, -0.5, 0.5)
bones/49/position = Vector3(53.3466, -0.994263, -0.0800323)
bones/49/rotation = Quaternion(0.683012, -0.183012, 0.683013, -0.183012)

[node name="PlayerBaseColShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_nsw0f")

[node name="CharacterMovement" type="Node" parent="." node_paths=PackedStringArray("nav_agent")]
script = ExtResource("2_kkpsn")
nav_agent = NodePath("../NavigationAgent3D")

[node name="CharacterSmoothRotation" type="Node" parent="."]
script = ExtResource("3_nxjiu")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
path_height_offset = 0.5

[node name="CharacterStateMachine" type="Node" parent="." node_paths=PackedStringArray("character_movement", "anim_player")]
script = ExtResource("4_jcj7d")
character_movement = NodePath("../CharacterMovement")
anim_player = NodePath("../DarkWizardBase/AnimationPlayer")

[node name="PlayerInput" type="Node" parent="." node_paths=PackedStringArray("character_state_machine", "character_movement", "player_atk_handler")]
script = ExtResource("5_c0u7f")
character_state_machine = NodePath("../CharacterStateMachine")
character_movement = NodePath("../CharacterMovement")
player_atk_handler = NodePath("../PlayerAttackHandler")

[node name="PlayerAttackHandler" type="Node" parent="." node_paths=PackedStringArray("character_state_machine", "character_smooth_rotation")]
script = ExtResource("6_vdra3")
character_state_machine = NodePath("../CharacterStateMachine")
character_smooth_rotation = NodePath("../CharacterSmoothRotation")

[editable path="DarkWizardBase"]
